{"ast":null,"code":"var _jsxFileName = \"F:\\\\react-website-v1-master\\\\src\\\\components\\\\pages\\\\Products.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Card, Avatar, Row, Col, Tooltip, Tag, message, Carousel } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { EyeOutlined, StarTwoTone, ShoppingTwoTone } from '@ant-design/icons';\nimport axios from '../../axios';\nimport '../../App.css';\n\nconst Products = ({\n  currentUser,\n  setCurrentUser,\n  setCartValue\n}) => {\n  const [productList, setProductList] = useState([]);\n  const {\n    Meta\n  } = Card;\n  useEffect(() => {\n    async function checkExistingUser() {\n      const res = await axios.get('/user/current');\n\n      if ((res === null || res === void 0 ? void 0 : res.statusText) === 'OK') {\n        setCurrentUser(res === null || res === void 0 ? void 0 : res.data);\n      }\n    }\n\n    checkExistingUser(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function getProducts() {\n    console.log(`here`);\n    const req = await axios.get('/product/all');\n\n    if (req) {\n      setProductList(req === null || req === void 0 ? void 0 : req.data);\n    }\n  }\n\n  async function getCartProducts() {\n    var _currentUser$, _currentUser$2;\n\n    console.log(`cart product`);\n    console.log(`currentUser[0]?._id`, (_currentUser$ = currentUser[0]) === null || _currentUser$ === void 0 ? void 0 : _currentUser$._id);\n    const response = await axios.get(`/user/${(_currentUser$2 = currentUser[0]) === null || _currentUser$2 === void 0 ? void 0 : _currentUser$2._id}/cart`);\n\n    if (response) {\n      var _response$data;\n\n      setCartValue(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length);\n    }\n  }\n\n  async function addToCart(id) {\n    console.log(`get cart`);\n    const res = await axios.post(`/product/${id}/add/cart`, currentUser[0]);\n\n    if (res) {\n      var _res$data;\n\n      if (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data._id) {\n        message.success('Product added to cart successfully');\n        getCartProducts();\n      } else {\n        message.error('Simillar product already exist in your cart');\n      }\n\n      console.log(`res while adding product to cart`, res);\n    }\n  }\n\n  useEffect(() => {\n    if (currentUser) getProducts();\n  }, [currentUser]);\n  console.log(`currentUser`, currentUser);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white shadow rounded-lg p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, (productList === null || productList === void 0 ? void 0 : productList.length) > 0 && /*#__PURE__*/React.createElement(Row, {\n    gutter: [24, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, productList === null || productList === void 0 ? void 0 : productList.map(item => {\n    var _item$product, _item$product2, _item$product2$ImageU, _item$product3, _item$product4, _item$product4$ImageU, _item$product5, _item$product6, _item$product6$ImageU, _item$product7, _item$product8, _item$product8$ImageU, _item$product9, _item$product10, _item$product10$Image, _item$product_categor;\n\n    return /*#__PURE__*/React.createElement(Col, {\n      xl: 6,\n      lg: 6,\n      md: 8,\n      sm: 24,\n      xs: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        width: 300\n      },\n      cover: /*#__PURE__*/React.createElement(Carousel, {\n        autoplay: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 10\n        }\n      }, (item === null || item === void 0 ? void 0 : (_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.ImageURLOne) && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"example\",\n        src: item === null || item === void 0 ? void 0 : (_item$product2 = item.product) === null || _item$product2 === void 0 ? void 0 : (_item$product2$ImageU = _item$product2.ImageURLOne) === null || _item$product2$ImageU === void 0 ? void 0 : _item$product2$ImageU.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      })), (item === null || item === void 0 ? void 0 : (_item$product3 = item.product) === null || _item$product3 === void 0 ? void 0 : _item$product3.ImageURLTwo) && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"example\",\n        src: item === null || item === void 0 ? void 0 : (_item$product4 = item.product) === null || _item$product4 === void 0 ? void 0 : (_item$product4$ImageU = _item$product4.ImageURLTwo) === null || _item$product4$ImageU === void 0 ? void 0 : _item$product4$ImageU.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      })), (item === null || item === void 0 ? void 0 : (_item$product5 = item.product) === null || _item$product5 === void 0 ? void 0 : _item$product5.ImageURLThree) && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"example\",\n        src: item === null || item === void 0 ? void 0 : (_item$product6 = item.product) === null || _item$product6 === void 0 ? void 0 : (_item$product6$ImageU = _item$product6.ImageURLThree) === null || _item$product6$ImageU === void 0 ? void 0 : _item$product6$ImageU.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      })), (item === null || item === void 0 ? void 0 : (_item$product7 = item.product) === null || _item$product7 === void 0 ? void 0 : _item$product7.ImageURLFour) && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"example\",\n        src: item === null || item === void 0 ? void 0 : (_item$product8 = item.product) === null || _item$product8 === void 0 ? void 0 : (_item$product8$ImageU = _item$product8.ImageURLFour) === null || _item$product8$ImageU === void 0 ? void 0 : _item$product8$ImageU.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      })), (item === null || item === void 0 ? void 0 : (_item$product9 = item.product) === null || _item$product9 === void 0 ? void 0 : _item$product9.ImageURLFive) && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"example\",\n        src: item === null || item === void 0 ? void 0 : (_item$product10 = item.product) === null || _item$product10 === void 0 ? void 0 : (_item$product10$Image = _item$product10.ImageURLFive) === null || _item$product10$Image === void 0 ? void 0 : _item$product10$Image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }))),\n      actions: [/*#__PURE__*/React.createElement(Tooltip, {\n        title: item === null || item === void 0 ? void 0 : item.product_rating,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(StarTwoTone, {\n        key: \"rating\",\n        twoToneColor: \"yellow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(ShoppingTwoTone, {\n        onClick: () => {\n          addToCart(item === null || item === void 0 ? void 0 : item._id);\n        },\n        key: \"add\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(Link, {\n        to: `/product/${item === null || item === void 0 ? void 0 : item._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(EyeOutlined, {\n        key: \"ellipsis\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }))],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Meta, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        style: {\n          color: 'black',\n          backgroundColor: '#00ff66'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"capitalize\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 12\n        }\n      }, \"$ \", item === null || item === void 0 ? void 0 : item.product_price)),\n      title: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-full flex justify-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 12\n        }\n      }, item === null || item === void 0 ? void 0 : item.product_name), ' ', /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 12\n        }\n      }, item === null || item === void 0 ? void 0 : (_item$product_categor = item.product_category) === null || _item$product_categor === void 0 ? void 0 : _item$product_categor.map(category => {\n        let color = category.length === 5 ? 'geekblue' : 'green';\n\n        if (category === 'Children') {\n          color = 'volcano';\n        }\n\n        if (category === 'Home Accessories') {\n          color = 'Yellow';\n        }\n\n        return /*#__PURE__*/React.createElement(Tag, {\n          color: color,\n          key: category,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }\n        }, category.toUpperCase());\n      }))),\n      description: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"truncate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, item === null || item === void 0 ? void 0 : item.product_description),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    })));\n  })));\n};\n\nexport default Products;","map":{"version":3,"sources":["F:/react-website-v1-master/src/components/pages/Products.js"],"names":["React","useEffect","useState","Card","Avatar","Row","Col","Tooltip","Tag","message","Carousel","Link","EyeOutlined","StarTwoTone","ShoppingTwoTone","axios","Products","currentUser","setCurrentUser","setCartValue","productList","setProductList","Meta","checkExistingUser","res","get","statusText","data","getProducts","console","log","req","getCartProducts","_id","response","length","addToCart","id","post","success","error","map","item","width","product","ImageURLOne","url","ImageURLTwo","ImageURLThree","ImageURLFour","ImageURLFive","product_rating","color","backgroundColor","product_price","product_name","product_category","category","toUpperCase","product_description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card, Avatar, Row, Col, Tooltip, Tag, message, Carousel } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { EyeOutlined, StarTwoTone, ShoppingTwoTone } from '@ant-design/icons';\nimport axios from '../../axios';\nimport '../../App.css';\n\nconst Products = ({ currentUser, setCurrentUser, setCartValue }) => {\n\tconst [productList, setProductList] = useState([]);\n\tconst { Meta } = Card;\n\tuseEffect(() => {\n\t\tasync function checkExistingUser() {\n\t\t\tconst res = await axios.get('/user/current');\n\t\t\tif (res?.statusText === 'OK') {\n\t\t\t\tsetCurrentUser(res?.data);\n\t\t\t}\n\t\t}\n\t\tcheckExistingUser();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tasync function getProducts() {\n\t\tconsole.log(`here`);\n\t\tconst req = await axios.get('/product/all');\n\t\tif (req) {\n\t\t\tsetProductList(req?.data);\n\t\t}\n\t}\n\tasync function getCartProducts() {\n\t\tconsole.log(`cart product`);\n\t\tconsole.log(`currentUser[0]?._id`, currentUser[0]?._id);\n\t\tconst response = await axios.get(`/user/${currentUser[0]?._id}/cart`);\n\t\tif (response) {\n\t\t\tsetCartValue(response?.data?.length);\n\t\t}\n\t}\n\tasync function addToCart(id) {\n\t\tconsole.log(`get cart`);\n\t\tconst res = await axios.post(`/product/${id}/add/cart`, currentUser[0]);\n\t\tif (res) {\n\t\t\tif (res?.data?._id) {\n\t\t\t\tmessage.success('Product added to cart successfully');\n\t\t\t\tgetCartProducts();\n\t\t\t} else {\n\t\t\t\tmessage.error('Simillar product already exist in your cart');\n\t\t\t}\n\t\t\tconsole.log(`res while adding product to cart`, res);\n\t\t}\n\t}\n\tuseEffect(() => {\n\t\tif (currentUser) getProducts();\n\t}, [currentUser]);\n\tconsole.log(`currentUser`, currentUser);\n\treturn (\n\t\t<div className=\"bg-white shadow rounded-lg p-6\">\n\t\t\t{productList?.length > 0 && (\n\t\t\t\t<Row gutter={[24, 24]}>\n\t\t\t\t\t{productList?.map((item) => (\n\t\t\t\t\t\t<Col xl={6} lg={6} md={8} sm={24} xs={24}>\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\t\t\tcover={\n\t\t\t\t\t\t\t\t\t<Carousel autoplay>\n\t\t\t\t\t\t\t\t\t\t{item?.product?.ImageURLOne && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"example\" src={item?.product?.ImageURLOne?.url} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{item?.product?.ImageURLTwo && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"example\" src={item?.product?.ImageURLTwo?.url} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{item?.product?.ImageURLThree && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"example\" src={item?.product?.ImageURLThree?.url} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{item?.product?.ImageURLFour && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"example\" src={item?.product?.ImageURLFour?.url} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{item?.product?.ImageURLFive && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"example\" src={item?.product?.ImageURLFive?.url} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t<Tooltip title={item?.product_rating}>\n\t\t\t\t\t\t\t\t\t\t<StarTwoTone key=\"rating\" twoToneColor=\"yellow\" />\n\t\t\t\t\t\t\t\t\t</Tooltip>,\n\t\t\t\t\t\t\t\t\t<ShoppingTwoTone\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\taddToCart(item?._id);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tkey=\"add\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t\t\t<Link to={`/product/${item?._id}`}>\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined key=\"ellipsis\" />\n\t\t\t\t\t\t\t\t\t</Link>,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Meta\n\t\t\t\t\t\t\t\t\tavatar={\n\t\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#00ff66',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"capitalize\">$ {item?.product_price}</span>\n\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<div>{item?.product_name}</div>{' '}\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t{item?.product_category?.map((category) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet color = category.length === 5 ? 'geekblue' : 'green';\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (category === 'Children') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor = 'volcano';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (category === 'Home Accessories') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor = 'Yellow';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag color={color} key={category}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category.toUpperCase()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdescription={<div className=\"truncate\">{item?.product_description}</div>}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t))}\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</div>\n\t);\n};\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}